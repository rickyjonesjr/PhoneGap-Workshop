var LocalStorageStore = function(successCallback, errorCallback) {

    this.findByName = function(searchKey, callback) {
        var branches = JSON.parse(window.localStorage.getItem("branches"));
        var results = branches.filter(function(element) {
            return element.name.toLowerCase().indexOf(searchKey.toLowerCase()) > -1;
        });
        callLater(callback, results);
    }

    this.findById = function(id, callback) {
        var branches = JSON.parse(window.localStorage.getItem("branches"));
        var branch = null;
        var l = branches.length;
        for (var i=0; i < l; i++) {
            if (branches[i].id === id) {
                branch = branches[i];
                break;
            }
        }
        callLater(callback, branch);
    }

    // Used to simulate async calls. This is done to provide a consistent interface with stores (like WebSqlStore)
    // that use async data access APIs
    var callLater = function(callback, data) {
        if (callback) {
            setTimeout(function() {
                callback(data);
            });
        }
    }
		
	var branches = [
		{
		"id": 1,
		"name": "Brea",
		"public": "Open to the public",
		"lat": "33.912167",
		"lng": "117.890725",
		"type": "Branch",
		"address": "1040 E. Imperial Hwy. - Suite F3",
		"city": "Brea",
		"state": "CA",
		"postal": "92821",
		"phone": "800.854.9846",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:00am-6:00pm",
		"hours2": "Sat | 9:00am-2:00pm",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_coop.png"
		},
		{
		"id": 2,
		"name": "El Segundo - E4",
		"public": "Badge Required",
		"lat": "33.915301",
		"lng": "118.38908",
		"type": "Branch",
		"address": "2000 E. El Segundo Blvd.",
		"city": "El Segundo",
		"state": "CA",
		"postal": "90245",
		"phone": "800.854.9846",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 8:30am-4:30pm",
		"hours2": "Sat | Closed",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_mapspacer.png"
		},
		{
		"id": 3,
		"name": "El Segundo - S24",
		"public": "Badge Required",
		"lat": "33.931067",
		"lng": "118.388951",
		"type": "Branch",
		"address": "2060 East Imperial Hwy.",
		"city": "El Segundo",
		"state": "CA",
		"postal": "90245",
		"phone": "310.416.5891",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 8:30am-4:30pm",
		"hours2": "Sat | Closed",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_mapspacer.png"
		},
		{
		"id": 4,
		"name": "El Segundo - R7",
		"public": "Open to the public",
		"lat": "33.930311",
		"lng": "118.387009",
		"type": "Branch",
		"address": "2200 East Imperial Hwy.",
		"city": "El Segundo",
		"state": "CA",
		"postal": "90245",
		"phone": "800.854.9846",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 8:30am-4:30pm",
		"hours2": "Sat | Closed",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_mapspacer.png"
		},
		{
		"id": 5,
		"name": "El Segundo - Imperial",
		"public": "Badge Required",
		"lat": "33.930097",
		"lng": "118.391869",
		"type": "Branch",
		"address": "2000 East Imperial Hwy.",
		"city": "El Segundo",
		"state": "CA",
		"postal": "90245",
		"phone": "310.334.0849",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 8:30am-4:30pm",
		"hours2": "Sat | Closed",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_mapspacer.png"
		},
		{
		"id": 6,
		"name": "Fountain Valley",
		"public": "Open to the public",
		"lat": "33.704456",
		"lng": "117.93348",
		"type": "Branch",
		"address": "17860 Newhope Street, Suite 102",
		"city": "Fountain Valley",
		"state": "CA",
		"postal": "92708",
		"phone": "800.854.9846",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:00am-6:00pm",
		"hours2": "Sat | 9:00am-2:00pm",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_coop.png"
		},
		{
		"id": 7,
		"name": "Gardena",
		"public": "Open to the public",
		"lat": "33.873168",
		"lng": "118.357601",
		"type": "Branch",
		"address": "1727 Artesia Blvd.",
		"city": "Gardena",
		"state": "CA",
		"postal": "90248",
		"phone": "800.854.9846",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:00am-5:00pm",
		"hours2": "Sat | Closed",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_mapspacer.png"
		},
		{
		"id": 8,
		"name": "Goleta",
		"public": "Open to the public",
		"lat": "34.431036",
		"lng": "119.876204",
		"type": "Branch",
		"address": "145 Santa Felicia Dr.",
		"city": "Goleta",
		"state": "CA",
		"postal": "93117",
		"phone": "800.854.9846",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:00am-6:00pm",
		"hours2": "Sat | 10:00am-2:00pm",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_mapspacer.png"
		},
		{
		"id": 9,
		"name": "Hawthorne",
		"public": "Open to the public",
		"lat": "33.916975",
		"lng": "118.352473",
		"type": "Branch",
		"address": "12750 Hawthorne Blvd. - Unit A",
		"city": "Hawthorne",
		"state": "CA",
		"postal": "90254",
		"phone": "800.854.9846",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:00am-5:00pm",
		"hours2": "Sat | 9:00am-2:00pm",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_mapspacer.png"
		},
		{
		"id": 10,
		"name": "Hermosa Beach",
		"public": "Open to the public",
		"lat": "33.863351",
		"lng": "118.400366",
		"type": "Branch",
		"address": "555 Pier Ave. Unit B",
		"city": "Hermosa Beach",
		"state": "CA",
		"postal": "90254",
		"phone": "800.854.9846",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:00am-6:00pm",
		"hours2": "Sat | Closed",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_mapspacer.png"
		},
		{
		"id": 11,
		"name": "Lakewood",
		"public": "Open to the public",
		"lat": "33.851831",
		"lng": "118.144301",
		"type": "Branch",
		"address": "4055 Hardwick St.",
		"city": "Lakewood",
		"state": "CA",
		"postal": "90712",
		"phone": "800.854.9846",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:00am-6:00pm",
		"hours2": "Sat | 9:00am-1:00pm",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_mapspacer.png"
		},
		{
		"id": 12,
		"name": "Malibu",
		"public": "Open to the public",
		"lat": "34.043592",
		"lng": "118.695978",
		"type": "Branch",
		"address": "3011 Malibu Canyon Rd.",
		"city": "Malibu",
		"state": "CA",
		"postal": "90265",
		"phone": "800.854.9846",
		"web": "http://www.kinecta.org",
		"hours1": "Mon, Wed, Fri | 9:00am-5:00pm",
		"hours2": "Tue, Thurs, Sat | Closed",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_mapspacer.png"
		},
		{
		"id": 13,
		"name": "Manhattan Beach",
		"public": "Open to the public",
		"lat": "33.901334",
		"lng": "-118.389308",
		"type": "Branch",
		"address": "1440 Rosecrans Ave.",
		"city": "Manhattan Beach",
		"state": "CA",
		"postal": "90266",
		"phone": "800.854.9846",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:00am-6:00pm",
		"hours2": "Sat | 9:00am-2:00pm",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_coop.png"
		},
		{
		"id": 14,
		"name": "Santa Monica",
		"public": "Open to the public",
		"lat": "34.040027",
		"lng": "118.47343",
		"type": "Branch",
		"address": "3027 Wilshire Blvd.",
		"city": "Santa Monica",
		"state": "CA",
		"postal": "90403",
		"phone": "800.854.9846",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:00am-6:00pm",
		"hours2": "Sat | 9:00am-2:00pm",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_mapspacer.png"
		},
		{
		"id": 15,
		"name": "Torrance Crossroads",
		"public": "Open to the public",
		"lat": "33.804809",
		"lng": "118.328451",
		"type": "Branch",
		"address": "24329 Crenshaw Blvd. Suite F",
		"city": "Torrance",
		"state": "CA",
		"postal": "90505",
		"phone": "800.854.9846",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:00am-6:00pm",
		"hours2": "Sat | 9:00am-2:00pm",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_coop.png"
		},
		{
		"id": 16,
		"name": "Torrance Madison Park",
		"public": "Open to the public",
		"lat": "33.80233",
		"lng": "118.345853",
		"type": "Branch",
		"address": "3525 Pacific Coast Hwy., Suite S",
		"city": "Torrance",
		"state": "CA",
		"postal": "90505",
		"phone": "800.854.9846",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:00am-6:00pm",
		"hours2": "Sat | 9:00am-2:00pm",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_coop.png"
		},
		{
		"id": 17,
		"name": "Tustin",
		"public": "Open to the public",
		"lat": "33.700359",
		"lng": "117.82867",
		"type": "Branch",
		"address": "2324 Park Ave.",
		"city": "Tustin",
		"state": "CA",
		"postal": "92782",
		"phone": "800.854.9846",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:00am-6:00pm",
		"hours2": "Sat | 9:00am-2:00pm",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_coop.png"
		},
		{
		"id": 18,
		"name": "Warner Center",
		"public": "Open to the public",
		"lat": "34.188003",
		"lng": "118.598485",
		"type": "Branch",
		"address": "21440 Victory Blvd.",
		"city": "Woodland Hills",
		"state": "CA",
		"postal": "91367",
		"phone": "800.854.9846",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:00am-6:00pm",
		"hours2": "Sat | 9:00am-2:00pm",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_coop.png"
		},
		{
		"id": 19,
		"name": "Westchester - Cashless MSC",
		"public": "Open to the public",
		"lat": "33.959807",
		"lng": "118.419249",
		"type": "Branch",
		"address": "8601 Lincoln Blvd. - Suite 130",
		"city": "Westchester",
		"state": "CA",
		"postal": "90045",
		"phone": "310.410.9672",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:00am-5:00pm",
		"hours2": "Sat | 9:00am-2:00pm",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_mapspacer.png"
		},
		{
		"id": 20,
		"name": "Westlake Village",
		"public": "Open to the public",
		"lat": "34.15326",
		"lng": "118.82937",
		"type": "Branch",
		"address": "973 S. Westlake Blvd.",
		"city": "Westlake",
		"state": "CA",
		"postal": "91361",
		"phone": "310.854.9846",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:00am-6:00pm",
		"hours2": "Sat | 10:00am-2:00pm",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_mapspacer.png"
		},
		{
		"id": 21,
		"name": "Westminster",
		"public": "Open to the public",
		"lat": "33.749286",
		"lng": "118.014493",
		"type": "Branch",
		"address": "540 Westminster Mall",
		"city": "Westminster",
		"state": "CA",
		"postal": "92683",
		"phone": "310.854.9846",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:30am-6:00pm",
		"hours2": "Sat | 9:00am-2:00pm",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_coop.png"
		},
		{
		"id": 22,
		"name": "Rancho Cucamonga",
		"public": "Open to the public",
		"lat": "34.10603",
		"lng": "117.551318",
		"type": "Branch",
		"address": "11563 Foothill Blvd., Suite 101",
		"city": "Rancho Cucamonga",
		"state": "CA",
		"postal": "91730",
		"phone": "909.944.4902",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:00am-6:00pm",
		"hours2": "Sat | 9:00am-2:00pm",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_coop.png"
		},
		{
		"id": 23,
		"name": "Newbury Park Mortgage Center",
		"public": "Mortgage Only",
		"lat": "34.190124",
		"lng": "118.934963",
		"type": "Branch",
		"address": "2751 W. Hillcrest Dr. #A",
		"city": "Thousand Oaks",
		"state": "CA",
		"postal": "91320",
		"phone": "866.479.5600",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:00am-5:00pm",
		"hours2": "Sat | Closed",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_mapspacer.png"
		},
		{
		"id": 24,
		"name": "Orange County Mortgage Center",
		"public": "Mortgage Only",
		"lat": "33.661621",
		"lng": "117.864472",
		"type": "Branch",
		"address": "4041 MacArthur Blvd., Suite 100",
		"city": "Newport Beach",
		"state": "CA",
		"postal": "92660",
		"phone": "866.479.5600",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:00am-5:00pm",
		"hours2": "Sat | Closed",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_mapspacer.png"
		},
		{
		"id": 25,
		"name": "North San Diego Mortgage Center",
		"public": "Mortgage Only",
		"lat": "32.957473",
		"lng": "117.127347",
		"type": "Branch",
		"address": "13161 Black Mountain Road, Suite 9",
		"city": "San Diego",
		"state": "CA",
		"postal": "92129",
		"phone": "855.801.1823",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:00am-5:00pm",
		"hours2": "Sat | Closed",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_mapspacer.png"
		},
		{
		"id": 26,
		"name": "Kinecta | Nix Financial #3",
		"public": "Open to the public",
		"lat": "33.895925",
		"lng": "118.237245",
		"type": "Branch",
		"address": "740 W. Compton Blvd.",
		"city": "Compton",
		"state": "CA",
		"postal": "90221",
		"phone": "310.631.8125",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:00am-6:00pm",
		"hours2": "Sat | 9:00am-2:00pm",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_mapspacer.png"
		},
		{
		"id": 27,
		"name": "Kinecta | Nix Financial #4",
		"public": "Open to the public",
		"lat": "33.934361",
		"lng": "118.32682",
		"type": "Branch",
		"address": "11121 S. Crenshaw Blvd.",
		"city": "Inglewood",
		"state": "CA",
		"postal": "90303",
		"phone": "310.412.3851",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 8:00am-7:00pm",
		"hours2": "Sat | 8:00am-6:00pm",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_mapspacer.png"
		},
		{
		"id": 28,
		"name": "Kinecta | Nix Financial #10",
		"public": "Open to the public",
		"lat": "34.011226",
		"lng": "118.292123",
		"type": "Branch",
		"address": "1009 W. Martin Luther King Blvd.",
		"city": "Los Angeles",
		"state": "CA",
		"postal": "90037",
		"phone": "323.733.3961",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:00am-6:00pm",
		"hours2": "Sat | 9:00am-2:00pm",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_mapspacer.png"
		},
		{
		"id": 29,
		"name": "Kinecta | Nix Financial #23",
		"public": "Open to the public",
		"lat": "33.9618",
		"lng": "118.356668",
		"type": "Branch",
		"address": "140 E. Manchester Blvd.",
		"city": "Inglewood",
		"state": "CA",
		"postal": "90301",
		"phone": "310.671.2992",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:00am-6:00pm",
		"hours2": "Sat | 9:00am-2:00pm",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_mapspacer.png"
		},
		{
		"id": 30,
		"name": "Kinecta | Nix Financial #31",
		"public": "Open to the public",
		"lat": "33.945638",
		"lng": "118.254089",
		"type": "Branch",
		"address": "10005 S. Central Ave.",
		"city": "Los Angeles",
		"state": "CA",
		"postal": "90002",
		"phone": "323.569.4929",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:00am-6:00pm",
		"hours2": "Sat | 9:00am-2:00pm",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_mapspacer.png"
		},
		{
		"id": 31,
		"name": "Kinecta | Nix Financial #45",
		"public": "Open to the public",
		"lat": "33.960011",
		"lng": "118.325189",
		"type": "Branch",
		"address": "2934 W. Manchester Blvd.",
		"city": "Inglewood",
		"state": "CA",
		"postal": "90305",
		"phone": "323.751.0409",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:00am-6:00pm",
		"hours2": "Sat | 9:00am-2:00pm",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_mapspacer.png"
		},
		{
		"id": 32,
		"name": "Kinecta | Nix Financial #59",
		"public": "Open to the public",
		"lat": "34.108171",
		"lng": "118.196336",
		"type": "Branch",
		"address": "5411 N. Figueroa St.",
		"city": "Hihgland Park",
		"state": "CA",
		"postal": "90042",
		"phone": "323.550.1040",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:00am-6:00pm",
		"hours2": "Sat | 9:00am-2:00pm",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_mapspacer.png"
		},
		{
		"id": 33,
		"name": "Kinecta | Nix Financial #60",
		"public": "Open to the public",
		"lat": "33.848116",
		"lng": "118.264657",
		"type": "Branch",
		"address": "20238 Avalon Blvd.",
		"city": "Carson",
		"state": "CA",
		"postal": "90746",
		"phone": "310.532.5885",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:00am-6:00pm",
		"hours2": "Sat | 9:00am-2:00pm",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_mapspacer.png"
		},
		{
		"id": 34,
		"name": "Kinecta | Nix Financial #64",
		"public": "Open to the public",
		"lat": "33.897073",
		"lng": "118.207977",
		"type": "Branch",
		"address": "121 S. Long Beach Blvd. - Suite B",
		"city": "Compton",
		"state": "CA",
		"postal": "90221",
		"phone": "310.669.9053",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:00am-6:00pm",
		"hours2": "Sat | 9:00am-2:00pm",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_mapspacer.png"
		},
		{
		"id": 35,
		"name": "Kinecta | Nix Financial #75",
		"public": "Open to the public",
		"lat": "33.832735",
		"lng": "117.975622",
		"type": "Branch",
		"address": "2595 W. Lincoln Ave.",
		"city": "Anaheim",
		"state": "CA",
		"postal": "92801",
		"phone": "714.527.6465",
		"web": "http://www.kinecta.org",
		"hours1": "Mon-Fri | 9:00am-6:00pm",
		"hours2": "Sat | 9:00am-2:00pm",
		"hours3": "Sun | Closed",
		"iconimage": "/img/icon_mapspacer.png"
		}
	];

    window.localStorage.setItem("branches", JSON.stringify(branches));

    callLater(successCallback);

}